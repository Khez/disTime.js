/* * * * * * * * * *
 *   disTime .js   *
 *  Version 0.7.7  *
 *  License:  MIT  *
 * Simon  Waldherr *
 * * * * * * * * * */


function trim11(e){"use strict";var n;for(n=(e=e.replace(/^\s+/,"")).length-1;n>=0;n--)if(/\S/.test(e.charAt(n))){e=e.substring(0,n+1);break}return e}function checkForAnd(e,n,o){"use strict";return e&&trim11(n)!==o.words.preAgo&&trim11(n)!==o.words.inFuture?" "+o.words.and+" ":""}var disTimeRepeater,disTimeObject,disTime;disTimeObject={parseTimestamp:function(e,n,o,s){"use strict";function t(e){return parseInt(e,10)}var a,r,d,u,i,m,g,c,h;return void 0===s&&(s=!1),r=o>n?o-n:n-o,a=o>n?" "+e.words.preAgo+" ":" "+e.words.inFuture+" ",r>31536e3&&(a+=(d=t(t(r)/t(31536e3)))+" "+languages.declOfNum(e.mode,d,e.year)),(r<31536e3&&r>2419200||r>31536e3&&s&&0!==t(r%31536e3/2419200))&&(a+=checkForAnd(s,a,e),a+=(u=t(r%31536e3/2419200))+" "+languages.declOfNum(e.mode,u,e.month),r<31536e3&&s&&0!==t(r%2419200/86400)&&(a+=checkForAnd(s,a,e),a+=(m=t(r%2419200/86400))+" "+languages.declOfNum(e.mode,m,e.day))),(r<2419200&&r>604800||r<10368e3&&r>2419199&&s&&0!==t(r%2592e3/2419200))&&(a+=checkForAnd(s,a,e),a+=(i=t(r%2419200/604800))+" "+languages.declOfNum(e.mode,i,e.week)),(r<604800&&r>86399||r<2419200&&r>604799&&s&&0!==t(r%604800/86400))&&(a+=checkForAnd(s,a,e),a+=(m=t(r%2419200/86400))+" "+languages.declOfNum(e.mode,m,e.day)),(r<86400&&r>3599||r<604800&&r>86399&&s&&0!==t(r%86400/3600))&&(a+=checkForAnd(s,a,e),a+=(g=t(r%86400/3600))+" "+languages.declOfNum(e.mode,g,e.hour)),(r<3600&&r>59||r<86400&&r>3599&&s&&0!==t(r%3600/60))&&(a+=checkForAnd(s,a,e),a+=(c=t(r%3600/60))+" "+languages.declOfNum(e.mode,c,e.minute)),(r<60||r<3600&&r>59&&s&&r%60!=0)&&(a+=checkForAnd(s,a,e),a+=(h=r%60)+" "+languages.declOfNum(e.mode,h,e.second)),o>n&&(a+=" "+e.words.postAgo),a}},disTime=function(e,n,o){"use strict";var s,t,a,r,d,u,i;for(void 0===o&&(o=!1),void 0===n&&(n=navigator.language||navigator.userLanguage),void 0===languages[n]&&(n=void 0!==languages[n.split("-")[0]]?n.split("-")[0]:"en"),u=parseInt(Date.now()/1e3,10)+e,t=(s=document.getElementsByClassName("distime")).length,a=u,r=0;r<t;r+=1)i=parseInt(s[r].getAttribute("data-time"),10),s[r].innerHTML=disTimeObject.parseTimestamp(languages[n],i,u,o),d=u>i?u-i:i-u,s[r].hasAttribute("alt")||s[r].setAttribute("title",new Date(1e3*i).toString()),d<a&&(a=d);window.clearTimeout(disTimeRepeater),disTimeRepeater=a<61||o&&a<3601?setTimeout(disTime,1e3,e,n,o):a<3601||o&&a<86400?setTimeout(disTime,6e4,e,n,o):a<86400||o?setTimeout(disTime,3600001,e,n,o):setTimeout(disTime,86400001,e,n,o)};var languages={declOfNum:function(e,n,o){"use strict";var s;return 2!==e?1===n?o[0]:o[1]:(s=[2,0,1,1,1,2],o[n%100>4&&n%100<20?2:s[n%10<5?n%10:5]])},int:{words:{preAgo:"",postAgo:"ago",and:" ",inFuture:"in"},mode:1,year:["Y","Y"],month:["M","M"],week:["W","W"],day:["D","D"],hour:["h","h"],minute:["min","min"],second:["sec","sec"]},en:{words:{preAgo:"",postAgo:"ago",and:"and",inFuture:"in"},mode:1,year:["year","years"],month:["month","months"],week:["week","weeks"],day:["day","days"],hour:["hour","hours"],minute:["minute","minutes"],second:["second","seconds"]},de:{words:{preAgo:"vor",postAgo:"",and:"und",inFuture:"in"},mode:1,year:["Jahr","Jahren"],month:["Monat","Monaten"],week:["Woche","Wochen"],day:["Tag","Tagen"],hour:["Stunde","Stunden"],minute:["Minute","Minuten"],second:["Sekunde","Sekunden"]},nl:{words:{preAgo:"",postAgo:"geleden",and:"en",inFuture:"in"},mode:1,year:["jaar","jaar"],month:["maand","maanden"],week:["week","weken"],day:["dag","dagen"],hour:["uur","uren"],minute:["minuut","minuten"],second:["seconde","seconden"]},it:{words:{preAgo:"",postAgo:"fa",and:"e",inFuture:"in"},mode:1,year:["anno","anni"],month:["mese","mesi"],week:["settimana","settimane"],day:["giorno","giorni"],hour:["ora","ore"],minute:["minuto","minuti"],second:["secondo","secondi"]},es:{words:{preAgo:"",postAgo:"antes",and:"y",inFuture:"en"},mode:1,year:["año","años"],month:["mes","meses"],week:["semana","semanas"],day:["día ","días"],hour:["hora","horas"],minute:["minuto","minutos"],second:["segundo","segundos"]},fr:{words:{preAgo:"il ya",postAgo:"",and:"et",inFuture:"dans "},mode:1,year:["an","ans"],month:["mois","mois"],week:["semaine","semaines"],day:["jour","jours"],hour:["heure","heures"],minute:["minute","minutes"],second:["seconde","secondes"]},pt:{words:{preAgo:"",postAgo:"atrás",and:"e",inFuture:"em"},mode:1,year:["ano","anos"],month:["mês","meses"],week:["semana","semanas"],day:["dia","dias"],hour:["hora","horas"],minute:["minuto","minutos"],second:["segundo","segundos"]},ru:{words:{preAgo:"",postAgo:"назад",and:"и",inFuture:"через"},mode:2,year:["год","года","лет"],month:["месяц","месяца","месяцев"],week:["неделя","недели","недель"],day:["день","дня","дней"],hour:["час","часа","часов"],minute:["минуту","минуты","минут"],second:["секунду","секунды","секунд"]},uk:{words:{preAgo:"",postAgo:"тому",and:"",inFuture:"за"},mode:2,year:["рік","роки","років"],month:["місяць","місяці","місяців"],week:["тиждень","тижня","тижнів"],day:["день","дні","днів"],hour:["годину","години","годин"],minute:["хвилину","хвилини","хвилин"],second:["секунду","секунди","секунд"]}};
